var mySize=windowSize();var authModal=function(){var b={};function a(e,d){if(typeof(d)==="undefined"){d={}}var h=$("#loginModalContent");var c=$("div.registerSteps");switch(e.toLowerCase()){case"login":$("#forgotForm").hide(0);$("#loginForm").show(0);$("#forgotFormErrorMessages").hide(0);h.show(0);c.css("display","none");break;case"forgot":c.hide(0);$("#loginForm").hide(0);$("#forgotForm").show(0);$("#loginFormErrorMessages").hide(0);h.show(0);break;case"registerstep":c.find("div.step").hide(0);h.hide(0);var g=c.find("#registerStep-1");g.show(0);c.show(0);if(d.step==0){this.flushStepsConfig()}if(d.step>0){var f=g.find("data-auth-config");b=$.extend(f.data("authConfig"),b);f.data("authConfig",b)}break;default:case"default":c.find("div.step").hide(0);c.find("#registerStep-1").show(0);$("#forgotForm").hide(0);$("#loginForm").show(0);h.hide(0);c.show(0);$("#registerStep-0").find("li.highlightActive").removeClass("highlightActive");break}}return{show:a,highlightMain:function(d){var c="highlight";switch(d){case"playlist_save_as_btn":case"playlist_add_new_playlist_btn":case"upgrade_for_unlimited_playlists":c+="Playlist";break;case"remove_ads_link":c+="Ads";break;case"send_comment_btn":case"add_to_favorites_video":c+="VideoExtras";break;case"download_btn":c+="Download";break;case"upload":c+="Upload";break}$("#registerStep-0").find("li."+c).addClass("highlightActive")},saveStepsConfig:function(c){$.extend(b,c)},getStepsConfig:function(){return b},flushStepsConfig:function(){b={}}}}();$(document).on("change","#partner-package-select",function(a){$.post(globalVars.www_subdomain+"/api.php",{data:JSON.stringify({type:"getPartnerPackageDetails",value:$(this).val()})},function(b){$("#pPackagesDetails").empty();if(typeof(b.price)!="undefined"&&typeof(b.description)!="undefined"){$("#pPackagesDetails").append(b.description+"<br> Price: <b>"+b.price+" $</b>")}})});$(document).on("click","[data-auth-modal]",function(d){d.preventDefault();var c=$(this);var b=c.data("authModal");var a=c.data("authConfig")||{};var g=c.data("authCallback");var f=c.data("authChange");if(typeof(b)==="undefined"||b===null){throw"Auth modal parameters not set."}if(f==false){return}if(c.is("button")){c.parent().find("input,select,textarea").each(function(){var e=$(this);a[e.attr("name")]=e.val()});authModal.saveStepsConfig(a)}authModal.show(b.show,b);if(typeof(g)==="string"){window[g]()}});function registerTitle(){var b=authModal.getStepsConfig();var c=$("#registerStep-1 .free,#registerStep-3 .free");var a=$("#registerStep-1 .vip,#registerStep-3 .vip");if(b.type==="free"){c.show(0);a.hide(0);return}c.hide(0);a.show(0);return}$(document).on("click","#btn-payByCard",function createPaymentFormInputs(){var d=authModal.getStepsConfig();var b=$("#paymentForm");var a="";for(var e in d){a+='<input type="hidden" name="'+e+'" value="'+d[e]+'">'}b.append(a);var c=new Date();c.setTime(c.getTime()+(30*60*1000));if(d.upgrade==1){b.attr("action",globalVars.www_subdomain+"/memberUpgrade.php");$.cookie("pendingPaymentUpgrade",1,{expires:c,path:"/",domain:".hardsextube.com"})}else{$.cookie("pendingPayment",1,{expires:c,path:"/",domain:".hardsextube.com"})}b.submit()});$(document).on("show",".modal",function(b){$("html").css("overflow","hidden");modalCentered(this);if(ABTEST.registerDesigns=="b"){$("#signupDoubleBtnModal form.panForms button").bind("click",function(){$("#doubleFormType").val($(this).val())})}var a=$(this).find("form.panForms");if(a.length==1){a.validationEngine({scroll:false,autoPositionUpdate:true});a.find(".btn").on("click",function(d){var e=$(this);authModal.saveStepsConfig({type:e.parents("form").find("input[name=type]").val()});if(a.validationEngine("validate")){var c=e.parents("form").find("input[name=type]");if(c.val()!=""){e.parents("form").submit()}}})}$(".ads").filter(function(){if($(this).attr("id")==="vidii_adx"){return $(this).is(":visible")}return true}).css("display","none").addClass("hided")});$(document).on("hidden",".modal",function(c){$("html").css("overflow","auto");if(ABTEST.registerDesigns=="b"){$("#signupDoubleBtnModal form.panForms button").unbind("click")}var a=$(this).find("form.panForms");if(a.length==1){a.validationEngine("detach");a.find(".btn").off("click");$(".formError").remove()}$(".ads").filter(function(){if($(this).attr("id")==="vidii_adx"){return $(this).hasClass("hided")}return true}).css("display","block").removeClass("hided");var b=$("#join").data("track-source");if(typeof b!=="undefined"&&b!=""){gaTrack("LoginReg",appendLoginRegABVariation("closeLoginbox"),b)}});$(window).on("resize",function(a){modalCentered($(".modal:visible"))});function modalCentered(b){var d=$(b);var c=$(window);var a={left:((c.width()/2)-(d.outerWidth(true)/2)),top:((c.height()/2)-(d.outerHeight(true)/2))};a.left=(a.left<0?0:a.left);a.top=(a.top<0?0:a.top);d.css(a)}function usernameChecking(b){var a="";$.ajax(globalVars.www_subdomain+"/api.php",{type:"POST",data:{data:JSON.stringify({type:"usernameChecking",value:b.val()})},dataType:"json",async:false,success:function(d){if(d.status=="error"){a=d.msg;if(typeof d.log!=="undefined"&&d.log==="username"){var c=$("#regFormUsername").data("tried-usernames");if(!c.match(","+b.val()+",")){$("#regFormUsername").data("tried-usernames",c+","+b.val()+",");$("body").impressionLog("AlreadyExistingUsername")}}}}});if(a!==""){return a}}function emailChecking(b){var a="";$.ajax(globalVars.www_subdomain+"/api.php",{type:"POST",data:{data:JSON.stringify({type:"emailChecking",value:b.val()})},dataType:"json",async:false,success:function(c){if(c.status=="error"){a=c.msg}}});if(a!==""){return a}}function openLoginModal(a){openModal_a(a)}function openModal_a(b){var a=$("#loginBox");if(!$.isEmptyObject(b)&&typeof b.showBlock!=="undefined"){var d=b.showBlock.toString().replace("#","").toLowerCase();switch(d){case"login":authModal.show("login");break;case"register":authModal.show("registerStep",{step:1});break;case"upgrade":authModal.show("upgrade");break;case"forgot":authModal.show("forgot");break;case"nomodal":return true;break}}var c="";if(!$.isEmptyObject(b)&&typeof b.source!=="undefined"){c=b.source.toString().toLowerCase();authModal.highlightMain(c)}$("html").css("overflow","hidden");a.modal();a.on("hidden",function(){authModal.show("default");$("#track-source-field").val("");$("html").css("overflow","auto")});a.on("hide",function(){authModal.show("default")});$("body").impressionLog("loginboxShow");return}var showModalItems=function(){this.title1=$(".modal .test-title1");this.title2=$(".modal .test-title2")};showModalItems.prototype={constructor:showModalItems,showTitle1:function(a){this.title1.find("> *").css("display","none");if(typeof(a)!="undefined"&&a!=""){this.title1.find("> [class*=test-title1-"+a+"]").css("display","block")}},showTitle2:function(a){this.title2.find("> *").css("display","none");if(typeof(a)!="undefined"&&a!=""){this.title2.find("> [class*=test-title2-"+a+"]").css("display","block")}}};function openModal_b(h){var b=new showModalItems();var k=$("#signupFreeModal");var j=$("#signupVIPModal");var d=$("#signupDoubleBtnModal");var g=$("#downloadModal");var e=$("#loginModal");var f=$("#upgradeModal");var a="";var c;if(!$.isEmptyObject(h)&&typeof h.source!=="undefined"){a=h.source.toString().toLowerCase();switch(a){case"playlist_save_as_btn":case"playlist_list_is_full":case"playlist_add_new_playlist_btn":b.showTitle2("playlist");k.modal();break;case"remove_ads_link":b.showTitle2("ads");j.modal();break;case"remove_ads_link_x":b.showTitle2("ads");j.modal();break;case"send_comment_btn":b.showTitle2("comment");k.modal();break;case"add_to_favorites_video":b.showTitle2("favorite");k.modal();break;case"download_btn":b.showTitle2("download");d.modal();break;case"like":case"rating_video":b.showTitle2("rate");k.modal();break;case"upload":b.showTitle2();k.modal();break;case"msg_download":g.modal();break;case"topmenu":case"login":e.modal();break;case"forgot":e.modal();break;case"register":case"topmenu_register":b.showTitle2();k.modal();break;case"upgrade":case"upgrade_for_unlimited_playlists":case"upgrade_for_remove_ads":f.modal();if(a=="upgrade_for_remove_ads"){b.showTitle2("unlimited-playlists")}else{if(a=="upgrade_for_unlimited_playlists"){b.showTitle2("unlimited-playlists")}}f.find("button.btn").on("click",function(){window.location.href=globalVars.www_subdomain+"/memberUpgrade.php?type=vip"});c=setInterval(function(){window.location.href=globalVars.www_subdomain+"/memberUpgrade.php?type=vip"},5000);f.find(".close").on("click",function(){clearInterval(c)});break}}$("body").impressionLog("loginboxShow");return}function setGaTrackSourceToJoinBtn(a){if(typeof a!=="undefined"&&a!==""&&$("#join").size()>0){$("#join").data("track-source",a)}else{if($("#join").size()>0){$("#join").data("track-source","")}}return}var registerValidate={};$(window).on("load hashchange",function(a){if(a.type==="load"){registerValidate=$("#panForm");registerValidate.validationEngine({scroll:false,autoPositionUpdate:true});$(document).on("click","#panForm .btn",function(b){if(registerValidate.validationEngine("validate")){var c=$(this);c.parents("form").submit()}})}if($("#loginBox").hasClass("noAutoModal")){return}if(location.hash==="#register"||location.hash==="#login"||location.hash==="#forgot"){openLoginModal({showBlock:location.hash,source:location.hash.substring(1)})}});$(document).on("click","#loginBox .showHideBtn",function(b){var c=$(this),a=c.data("show"),d=c.data("hide");b.preventDefault();if(a!=="undefined"||a!==""){$(a).removeClass("hide")}if(d!=="undefined"||d!==""){$(d).addClass("hide")}if(typeof registerValidate!=="undefined"){registerValidate.validationEngine("hideAll")}});$(document).on("click","[data-track-source]",function(){var b=$(this);var a=$("#track-source-field");a.val("");if(b.data("trackSource")!=="undefined"&&b.data("trackSource")!==""){a.val(b.data("trackSource"))}});$(document).on("click",".openLoginbox, .needlogin, #login_btn, .remove-adverts-btn, .remove-adverts-x",function(d){var c=$(this);var b=c.data("track-source");var a="";if(b=="remove_ads_link_x"&&isLoggedIn()){a="nomodal"}if(isLoggedIn==true&&isVIP!==true){b="remove_ads_link"}else{if(c.attr("id")==="login_btn"){a="login"}}openLoginModal({showBlock:a,source:b});setGaTrackSourceToJoinBtn(b);pushGaLoginRegTrack(b);if(c.hasClass("needlogin")){d.preventDefault()}});$(document).on("click","#join",function(a){var b=$(this).data("track-source");if(typeof b==="undefined"||b===""){return true}a.preventDefault();gaTrack("LoginReg",appendLoginRegABVariation("joinnow"),b);location.href=globalVars.www_subdomain+"/register/?source="+b});$(document).on("click",".close_btn",function(a){var b=$("#join").data("track-source");if(typeof b==="undefined"||b==""){return true}gaTrack("LoginReg",appendLoginRegABVariation("closeLoginbox"),b)});$(document).on("submit","form.panForms,#panForm,#registerValidationForm, #paymentForm",function(d){var a=authModal.getStepsConfig();if(a.type=="vip"){var c="registerVip"}else{if(a.type=="vip"&&typeof(a["partner-package"])!="undefined"){var c="registerVipPlus"}else{var c="register"}}c=appendLoginRegABVariation(c);var e=$("#track-source-field").val();var b=new Date();b.setHours(b.getHours()+1);setHstCookie("regSource",e,b);gaTrack("LoginReg",c,e);return});$(document).on("click","#btn-payByCard",function(d){var a=authModal.getStepsConfig();if(a.upgrade!=1){return false}if(a.type=="vip"){var c="upgradeVip"}else{if(a.type=="vip"&&typeof(a["partner-package"])!="undefined"){var c="upgradeVipPlus"}}c=appendLoginRegABVariation(c);var e=$("#track-source-field").val();var b=new Date();b.setHours(b.getHours()+1);setHstCookie("regSource",e,b);var e=$("#track-source-field").val();gaTrack("LoginReg",c,e);return});function logPaymentStatus(a){var b="";if(typeof a!=="undefined"&&a===true){b="paymentFailed"}else{b="paymentSuccess"}b=appendLoginRegABVariation(b);gaTrack("LoginReg",b,$.cookie("regSource"));setHstCookie("regSource",false,-1);return}function isInstalledFlash(){var a=swfobject.getFlashPlayerVersion();return(typeof(a.major)!="undefined"&&a.major>0)}var rotatedElement=false;var thumbRotationTimer=null;$(".thumb img").on("error",function(a){});(function(a){jQuery.extend({log:function(b){if((typeof(window.console)!="undefined"||typeof(console)!="undefined")&&globalVars.devel){if(typeof(b)!="undefined"){console.log(b)}else{console.log("undefined")}return true}else{if(globalVars.devel==true){a("body").prepend("<pre>Console Log<br><br>"+b+"</pre>");return true}else{return false}}}})})(jQuery);function Playlist(u){var e=d();var c={sizes:{video_item_width:162,video_item_margin:10},thumbsPerScroll:3,buttons:{open_playlist:$("#playlist-opening-btn")},playlist_container:$("#playlist-container"),playlist_select_input:$("#playlist-select"),show_now:false,actual_playlist_hash:h(),actual_video_id:B(),my_playlists:{},my_username:"",playlist_block_opened:false,forced_change:false};$.extend(true,c,u);var v={};function h(){return(typeof e.playlist!="undefined")?e.playlist:false}function d(){var F=location.hash.substr(1).split("&");var D={};for(i in F){var C=F[i].split("=");var E=C[0];D[E]=C[1]}return D}function B(){var D=new RegExp("^http://[a-zA-Z.]+/video/([0-9]+)/.+/?$");var C=D.exec(location.href);return(C!==null)?C[1]:null}var k=false;function s(D){q();c.my_username=$("#playlist").data("my-username");v.getPlaylists(c.my_username,function(E){c.my_playlists=E});if(c.actual_playlist_hash!=false||c.show_now){o();if(typeof flashvars!=="undefined"){flashvars.autoPlay="true"}}var C=(typeof e.vpos!=="undefined"&&e.vpos>10)?parseInt(e.vpos)+5:10;p(0,C);j();w();return v}function q(){c.buttons.open_playlist.on("click",function(){o();if($(".playlist-thumb").size()==0){$("#playlist-select").ddslick("select",{index:0})}});$(window).on("hashchange",function(){var C=h();c.actual_playlist_hash=(typeof C=="undefined")?false:C});$(document).on("click","#arrow-right, #arrow-left",function(){if($(this).hasClass("disabled")){return true}if($(this).data("scroll-direction")=="left"&&c.actual_playlist_hash!="quick_list"&&c.actual_playlist_hash!="group_list"&&c.actual_playlist_hash!="recommend_list"){b()}m($(this).data("scroll-direction"),$(this))});$(document).on("click",".jump-to-video-btn",function(){var C=$(this).data("direction");g(C)});$(document).on("click","#save-to-playlist-btn",function(){if(c.my_username!==""){$(this).hide();$("#save-to-playlist-form").removeClass("hide");$("#save-to-playlist-form-name").focus()}else{openLoginModal({source:"playlist_save_as_btn"});setGaTrackSourceToJoinBtn("playlist_save_as_btn");pushGaLoginRegTrack("playlist_save_as_btn")}});$(document).on("click","#save-to-playlist-form-send",function(D){D.preventDefault();var C=$("#save-to-playlist-form-name");if(!/^[a-zA-Z0-9\&\s]+$/.test(C.val())){$("#background_popup,#playlist-special-chars-warning-modal").fadeIn("fast");return false}if(C.val()!=""){z(C.val(),$(".dd-selected-value").attr("value"));$("#save-to-playlist-form").addClass("hide")}});$(document).on("click",".playlist-remove-video-btn",function(D){D.preventDefault();$this=$(this);var E=$this.data("playlist-hash");var C=$this.data("video-id");v.removeVideosFromPlaylist(E,C,function(F){if(F>-1){$this.parent().fadeOut("fast",function(){n();$(this).remove()})}})});$(document).on("click",".loadPlaylist",function(){event.preventDefault();var C=$(this).data("playlist-hash");if(C=="quick_list"){v.loadPlaylist("quick_list")}else{v.loadPlaylist(C,true)}});return}function g(D){var C=$(".playlist-thumb.active");if(typeof D==="undefined"||(D!=="next"&&D!=="previous")){D="next"}if(D=="previous"&&C.prev().size()>0){window.location.href=C.prev().find("a").first().attr("href")}else{if(D=="next"&&C.next().size()>0){window.location.href=C.next().find("a").first().attr("href")}else{if(D=="next"){if(typeof $(".playlist-thumb").first().find("a").first().attr("href")!=="undefined"){window.location.href=$(".playlist-thumb").first().find("a").first().attr("href")}else{return false}}}}}function m(F,D){if(typeof F==="undefined"){return false}$videoList=$("#playlist-video-list-wrap");var E=(c.sizes.video_item_width+c.sizes.video_item_margin)*c.thumbsPerScroll;var C=Math.abs(parseInt($videoList.css("left")));if(C===0&&c.actual_playlist_hash!=="group_list"&&F=="right"||$(".playlist-thumb").length==0){v.loadPlaylist("group_list");return}if(F=="left"){if(Math.abs($videoList.width())-Math.abs($("#playlist-inner").width())<=Math.abs($videoList.position().left)*-1){return true}D.addClass("disabled");if(C+E>(Math.abs(parseInt($videoList.css("width")))-Math.abs(parseInt($("#playlist-inner").css("width"))))){E=(parseInt($videoList.css("width"))-parseInt($("#playlist-inner").css("width")))-C}$videoList.animate({left:"-="+E},500,"easeOutCirc",function(){D.removeClass("disabled")})}else{if(F=="right"){if($videoList.position().left>=0){return true}D.addClass("disabled");if(parseInt($videoList.css("left"))+E>0){E=(0+parseInt($videoList.css("left")))*-1}$videoList.animate({left:"+="+E},500,"easeOutCirc",function(){D.removeClass("disabled")})}}}function o(){if(typeof c.buttons.open_playlist!=="undefined"&&c.buttons.open_playlist.hasClass("closed")){if(!k){f()}c.playlist_container.slideDown();c.buttons.open_playlist.removeClass("closed").addClass("opened");c.playlist_block_opened=true}else{c.playlist_container.slideUp();c.buttons.open_playlist.removeClass("opened").addClass("closed");c.playlist_block_opened=false}}function f(){fetchTpl("playlist",{},function(E){c.playlist_container.html(E)});var C=new Array;for(i in c.my_playlists){C.push({text:c.my_playlists[i].name,value:c.my_playlists[i].hash,selected:(c.my_playlists[i].hash==c.actual_playlist_hash)?true:false})}var D="Select playlist";v.getUserByPlaylist(h(),function(E){if(E!==c.my_username&&E!=""){D=E+"'s playlist"}});$("#playlist-select").ddslick({data:C,width:150,height:150,background:"#1d1d1d",selectText:_(D),imagePosition:"right",onSelected:function(E){a(E.selectedData.value);_gaq.push(["_trackEvent","Playlist","Event","Change playlist"]);$('#save-to-playlist-form:not(".hide")').addClass("hide");if($("#edit-playlist-btn").size()>0&&(E.selectedData.text!==_("Watch later")||E.selectedData.text!==_("Quick list"))){$("#edit-playlist-btn").attr("href",COM_DOMAIN+"/myprofile/playlists/"+E.selectedData.text.replace(" ","-")+"/"+E.selectedData.value)}if(E.selectedData.value==_("group_list")){$("#edit-playlists-btn").attr("href",COM_DOMAIN+"/myprofile/playlists/")}}});k=true}function a(C){if(C===false){C="quick_list"}if(c.actual_playlist_hash==C&&C==="quick_list"){$("#save-to-playlist-btn").show()}if(c.actual_playlist_hash==C&&C==="recommend_list"){$("#save-to-playlist-btn").show()}if(c.actual_playlist_hash==C&&c.forced_change!==true){return false}c.actual_playlist_hash=C;r();if(C=="group_list"){t()}else{p();j()}w();c.forced_change=false}function l(C){if(typeof C==="undefined"){return -1}if(C=="quick_list"){if(v.getUsername()){return 1}else{return 0}}if(C=="recommend_list"){return 2}for(i in c.my_playlists){if(c.my_playlists[i].hash==C){return parseInt(i);break}}return -1}function w(){if(c.actual_playlist_hash=="quick_list"||c.actual_playlist_hash=="recommend_list"){$("#edit-playlist-btn").hide();$("#edit-playlists-btn").hide();$("#save-to-playlist-btn").show()}else{if(c.actual_playlist_hash=="group_list"){$("#edit-playlist-btn").hide();$("#edit-playlists-btn").show();$("#save-to-playlist-btn").hide()}else{$("#edit-playlist-btn").show();$("#edit-playlists-btn").hide();$("#save-to-playlist-btn").hide()}}}function b(D,C){if(typeof D=="undefined"){var D=$("#playlist-video-list-wrap").find(".playlist-thumb").size()}if(typeof C=="undefined"){var C=c.thumbsPerScroll}p(D,C);return}function p(D,C){if(typeof D=="undefined"){var D=0}if(typeof C=="undefined"){var C=10}v.getPlaylistsVideos(c.actual_playlist_hash,function(E){if(!(E instanceof Array)||E.length<1){return false}fetchTpl("playlist-video-list",{videos:E,playlistHash:c.actual_playlist_hash,actual_vid:c.actual_video_id},function(F){$("#playlist-video-list-wrap").append(F);n();y()})},D,C);return}function t(){v.getPlaylists(v.getMyName,function(C){C.shift();fetchTpl("playlist-playlist-list",{playlists:C},function(D){$("#playlist-video-list-wrap").css({left:0}).append(D);n();y()})})}function j(){$("#playlist-video-list-wrap").css({left:0})}function n(){var D=$("#playlist-video-list-wrap");var E=D.find(".playlist-thumb").size();var C=(c.sizes.video_item_width+c.sizes.video_item_margin)*E;D.css({width:C});return}function y(){$active=$(".playlist-thumb.active");if($active.size()==0){return false}$playlistWrap=$("#playlist-inner");$videoListWrap=$("#playlist-video-list-wrap");if($playlistWrap.width()-$active.offset().left>$playlistWrap.width()/2){return false}$videoListWrap.css({left:$videoListWrap.offset().left-$active.offset().left+$playlistWrap.width()/2-90});return}function r(){var C=$("#playlist-video-list-wrap");C.html("");return}function z(E,C){if(typeof E==="undefined"){if(c.actual_playlist_hash=="recommend_list"){var E="Saved Recommendation"}if(c.actual_playlist_hash=="quick_list"){var E="Saved Quicklist"}}var D={method:"savePlaylistAs",playlistName:E,wichPlaylist:C};x(D,function(G){if(G.inserted>0){var F=(location.href.indexOf("#")!=-1)?location.href.indexOf("#"):location.href.length;location.href=location.href.substr(0,F)+"#playlist="+G.playlist;location.reload()}})}v.getMyName=function(){return c.my_username};v.getUserByPlaylist=function(D,E){var C={method:"getUserByPlaylist",hash:D};return x(C,E)};v.addVideosToPlaylist=function(E,D,F){var C={method:"addVideosToPlaylist",hash:E,videos:D};return x(C,F)};v.removeVideosFromPlaylist=function(E,D,F){var C={method:"removeVideosFromPlaylist",hash:E,videos:D};return x(C,F)};v.replaceVideosToAnotherPlaylist=function(E,D,F,G){var C={method:"replaceVideosToAnotherPlaylist",hashes:{from:D,to:F},videos:E};return x(C,G)};v.removePlaylists=function(D,E){var C={method:"removePlaylists",hashes:D};return x(C,E)};v.addPlaylist=function(E,C,F){var D={method:"addPlaylist",visibility:C,name:E};return x(D,F)};v.editPlaylist=function(F,E,C,G){var D={method:"editPlaylist",hash:F,visibility:C,name:E};return x(D,G)};v.getPlaylistsVideos=function(E,G,F,D){var C={method:"getPlaylistsVideos",hash:E,limit:{start:(typeof F!=="undefined")?F:0}};if(typeof D!=="undefined"){C.limit["num"]=D}return x(C,G)};v.getPlaylists=function(C,G,F,E){var D={method:"getPlaylistsForUser",user:C,limit:{start:(typeof F!=="undefined")?F:0}};if(typeof E!=="undefined"){D.limit["num"]=E}return x(D,G)};v.getFavoritePlaylist=function(D){var C={method:"getFavoritePlaylist"};return x(C,D)};v.isPlaylistOpened=function(){return c.playlist_block_opened};v.openPlaylist=function(C){o();if(typeof C!=="undefined"){a(C)}return};v.getLoadedPlaylist=function(){return c.actual_playlist_hash};v.getUsername=function(){return(c.my_username!=="")?c.my_username:false};v.loadPlaylist=function(C,D){if(typeof D!=="undefined"&&D===true){c.forced_change=true}$("#playlist-select").ddslick("select",{index:l(C)});return};v.playNextVideo=function(){if(this.getLoadedPlaylist()===false){return false}_gaq.push(["_trackEvent","Playlist","Event","Autojump next video from playlist"]);return g("next")};function x(C,D){if(typeof D=="undefined"){var D="_feedbackLog"}$.ajax({url:globalVars.www_subdomain+"/playlist-api.php?callback=?",dataType:"json",async:false,data:C,success:function(E){D(E)}});return}function A(C){return}return s()}function setPlaylistHoverPosition(c,d){if($.isEmptyObject(c)){return false}var e=$(c),b=e.offset();if(typeof(b)=="undefined"){return false}var a=$(d);a.css({top:b.top+(e.height()-a.height())+5,left:b.left,width:e.width()});return}var playlistThumbHoverHide=true;var playlistThumbTimeout=null;$(document).on("mouseenter mouseleave","ul.wrap_thumbs > li > div.thumb",function(b){var c=$(this);if(c.parents("#pornstarVideoPagination").size()>0){return false}if(c.find("a.visiteProfile").size()>0){return}var a=$("#playlist-thumb-hover");if(playlistThumbTimeout!==null){clearTimeout(playlistThumbTimeout);playlistThumbTimeout=null}switch(b.type){case"mouseenter":setPlaylistHoverPosition(this,a);a.css("display","block");a.find("a").data("vid",c.find("img.thumb_pic").attr("id").replace("vp",""));break;case"mouseleave":playlistThumbTimeout=setTimeout(function(){if(playlistThumbHoverHide===false){return}a.css("display","none").data("vid",0)},10);break}});$(document).on("mouseenter mouseleave","#playlist-thumb-hover",function(a){a.preventDefault();playlistThumbHoverHide=(a.type=="mouseenter"?false:true)});function addDirectToQuciklist(a){Playlist.addVideosToPlaylist("quick_list",a,function(b){if(typeof b.inserted==="undefined"||b.inserted>0){$("#playlist-modal-close-btn").click();if(!Playlist.isPlaylistOpened()){Playlist.openPlaylist("quick_list")}Playlist.loadPlaylist("quick_list",true)}else{if(typeof b.no_more_allowed!=="undefined"&&b.no_more_allowed==true){$("#background_popup,#playlist-add-modal").fadeIn("fast");$("#quick-list-is-full").show();$("#playlist-modal-add-video").hide()}}})}$(document).on("click",".fav.add",function(a){a.preventDefault;if(Playlist.getMyName()==""){return}else{Playlist.getFavoritePlaylist(function(c){var d=c;var b=$(".fav").attr("id");Playlist.addVideosToPlaylist(d,b,function(e){})})}});$(document).on("click",".fav.remove",function(a){a.preventDefault;Playlist.getFavoritePlaylist(function(c){var d=c;var b=$(".fav").attr("id");Playlist.removeVideosFromPlaylist(d,b,function(e){})})});$(document).on("click","#playlist-thumb-hover a,#playlist-side-btn a, #video-bottom-add-to-playlist-btn",function(a){a.preventDefault();var b=$(this);addToPlaylistEvent(b.data("vid"))});function addToPlaylistEvent(a){if(Playlist.getMyName()==""){return addDirectToQuciklist(a)}$(".ads").each(function(){if($(this).css("display")=="block"){$(this).css("display","none");$(this).addClass("hided")}});Playlist.getPlaylists(Playlist.getMyName,function(b){b.shift();b.splice(1,1);$("#playlist-modal-add-video select option").remove();$("#playlist-modal-add-video").show();for(i in b){$("#playlist-modal-add-video select").append('<option value="'+b[i].hash+'">'+b[i].name+"</option>")}$("#background_popup,#playlist-add-modal").fadeIn("fast");$("#playlist-modal-add-video input[name='vid']").val(a)})}$(document).on("click","#add-video-to-playlist-btn",function(c){c.preventDefault();var b=$("#playlist-modal-add-video select").val();var a=$("#playlist-modal-add-video input[name='vid']").val();if(b!=""&&a!=""){Playlist.addVideosToPlaylist(b,a,function(d){if(typeof d.inserted==="undefined"||d.inserted>0){$("#playlist-modal-close-btn").click();if(!Playlist.isPlaylistOpened()){Playlist.openPlaylist(b)}Playlist.loadPlaylist(b,true);GravityApi.event.playlist({id:a})}else{if(typeof d.no_more_allowed!=="undefined"&&d.no_more_allowed==true){$("#quick-list-is-full").fadeIn(500)}else{if(typeof d.no_more_allowed_to_playlist!=="undefined"&&d.no_more_allowed_to_playlist==true){$("#playlist-modal-close-btn").click();openLoginModal({source:"upgrade_for_unlimited_playlists"})}}}})}});$(document).on("click","#open-playlist-with-quicklist",function(a){a.preventDefault();$("#playlist-modal-close-btn").click();if(!Playlist.isPlaylistOpened()){Playlist.openPlaylist("quick_list")}else{if(Playlist.getLoadedPlaylist!="quick_list"){Playlist.loadPlaylist("quick_list")}}if(Playlist.getUsername()){$("#save-to-playlist-btn").click()}});$(document).on("click",".open-login-box",function(a){a.preventDefault();$("#playlist-modal-close-btn").click();openLoginModal({source:"playlist_list_is_full"});setGaTrackSourceToJoinBtn("playlist_list_is_full");pushGaLoginRegTrack("playlist_list_is_full")});$(document).on("click","#playlist-modal-close-btn, #background_popup",function(){$(".playlist-modal, #background_popup").fadeOut("fast");$("#playlist-modal-add-video input[name='vid']").val(0);$("#quick-list-is-full").hide();$(".ads").each(function(){if($(this).hasClass("hided")){$(this).css("display","block")}})});$(document).on("click","#add-new-playlist-btn",function(a){if(Playlist.getUsername()==false){openLoginModal({source:"playlist_add_new_playlist_btn"});setGaTrackSourceToJoinBtn("playlist_add_new_playlist_btn");pushGaLoginRegTrack("playlist_add_new_playlist_btn");return false}});function getAbTestVal(a){if(typeof a==="undefined"){return JSON.parse($.cookie("hstst"))}else{return JSON.parse($.cookie("hstst"))[a].substr(-1)}}$.support.placeholder=function(){var a=document.createElement("input");return"placeholder" in a};$.support.canvas=function(){var a=document.createElement("canvas");return !!(a.getContext&&a.getContext("2d"))};$(document).ready(function(){if(!onTablet){var n=$("#sidebar-ads-tpl").html();$("#sidebar-ads-container").html(n)}var g=$("#footer-ads-tpl").html();$("#footer-ads-container").html(g);Playlist=Playlist();if(window.innerWidth<=1050){$("#playlist-side-btn").hide()}$(window).on("resize",function(){if(window.innerWidth<=1050){$("#playlist-side-btn").hide()}else{$("#playlist-side-btn").show()}});$(document).on("click","#registerBtn",function(q){if($("#loginBox").length>0||$("#loginModal").length>0){q.preventDefault();var s=$(this);var r=s.data("track-source");openLoginModal({showBlock:"register",source:r});setGaTrackSourceToJoinBtn(r);pushGaLoginRegTrack(r)}});$("IMG").error(function(){if($(this).hasClass("nocheck")){return true}$(this).attr("src",globalVars.images_dir+"/noImage.png")});$(".needlogin").live("click",function(){});$(".browseby_change").change(function(){$(".browseby_change option:selected").each(function(){url=$(this).attr("data-href")});window.location=url});var c=new Array("<a onClick=\"$('body').impressionLog('headerTxt_hsd')\"   href='http://www.hardsexdeals.com'> <span style='font-weight: bold;color:cyan'>HardSexDeals special offer: </span> Get <strong style=\"color: #f597f5\">50% discount </strong>from Private!</a>  ","<a onClick=\"$('body').impressionLog('headerTxt_hsd')\"   href='http://www.hardsexdeals.com'> <span style='font-weight: bold;color:#ffcc00'>HardSexDeals special offer: </span> Get <strong style=\"color: yellow\">50% discount </strong>from HandsOnHardcore (DDF)!</a>  ","<a onClick=\"$('body').impressionLog('headerTxt_hsd')\"   href='http://www.hardsexdeals.com'> <span style='font-weight: bold;color:cyan'>HardSexDeals special offer: </span> Get your<strong style=\"color: #ffccaa\"> free credits</strong> on HardSexRoles!</a>  ","<a onClick=\"$('body').impressionLog('headerTxt_hsd')\"   href='http://www.hardsexdeals.com'> <span style='font-weight: bold;color:yellow'>HardSexDeals special offer: </span> Get <strong style=\"color: cyan\">33% discount </strong>from SexAndSubmission (Kink)!</a>  ");if(!FlashDetect.installed){c.length=0;c[0]=_("Please install flash player to use HardSexTube")}if($("#search_pornstar_header_suggest").size()>0){$(".header_text").html($("#search_pornstar_header_suggest").html())}else{if($(".videoplayer").size()<1&&globalVars.whereAmI!="pornstars"){}}if(onTablet){var d=$("ul.topnav > li");d.each(function(){var q=$(this);if(q.find("ul.subnav").size()<1){return}q.find("> a").bind("click",function(r){d.not(q).removeClass("active");if(!q.hasClass("active")){q.addClass("active")}r.preventDefault()})});$(".wrap").on("click",function(r){var q=$("ul.topnav > li.active");if(q.size()<1){return}if($(r.srcElement).parents("ul.topnav").size()==0){q.removeClass("active")}})}function p(){return(globalVars.sessionPrefervp!="no")?1:0}function f(q){if(typeof($(q).attr("data-vid"))=="undefined"&&typeof($(q).attr("id"))!="undefined"){return $(q).attr("id").substr(2,$(q).attr("id").length)}else{if(typeof($(q).attr("data-vid"))!="undefined"){return $(q).attr("data-vid").substr(2,$(q).attr("data-vid").length)}else{if(typeof($(q).attr("data-id"))!="undefined"){return parseInt($(q).attr("data-id"))}}}return false}$(document).on("mouseenter","#categories_menu",function(){m()});$(".thumb_pic").live({mouseenter:function(){var q=$(this);rotatedElement=q;if(p()){b(q)}else{e(q)}return true},mouseleave:function(){if($("#vplayerobject").hasClass("vpObjectActive")){return false}var q=$(this);if(p()){m(q)}else{h(q)}return true},click:function(){var r=$(this);var q=f(r);if(typeof(whereAmI)!=="undefined"&&whereAmI==globalVars.community_subdomain.replace("http://","")){GravityApi.event.click(r.parents("div.thumb"))}window.location=globalVars.www_subdomain+"/video/"+q+"/"}});$("#vplayerobject").live({mouseleave:function(){var q=$(this);if(p()){m(q)}return true}});function b(q){if($("#vplayerobject").size()<1){a(q)}timer=setTimeout(function(){o(q)},500);return true}function k(r){if($.isEmptyObject(r)){return false}var q=$(r).offset();if(typeof(q)=="undefined"){return false}$("#vplayerobject").offset({top:q.top+1,left:q.left+1})}function l(q){if(typeof($(q).attr("data-uploader"))!="undefined"){return $(q).attr("data-uploader")}else{if(typeof($(q).attr("data-rel"))!="undefined"){return $(q).attr("data-rel")}}return""}function j(q){if(typeof(q)!="undefined"){return q.substr(q.length-3,3)}else{return false}}function o(t){var x=f(t);k(t);var y=$(t).parents(".thumb").find("IMG");var q=y.attr("data-source");var v=GravityApi.getVid(y);var r=$(t).parents(".thumb").hasClass("recommended")?"REC_CLICK":"CLICK";var w=y.attr("alt");$(t).parents(".thumb").find(".data , .vpoverdata").hide();$("#vplayerobject").addClass("vpObjectActive");$("#vplayerobject").css("z-index",999);var s={};s.openVideoCallback="GravityApi.event.clickVideoPlayerCallback({id: "+v+", eventType: '"+r+"', eventName: 'ClickToThumb', source: '"+q+"'})";s.videoURL="http://vp.cdn1b.hardsextube.com/"+x+".mp4?start=0";s.videoLINK=globalVars.www_subdomain+"/video/"+x+"/"+w.replace(/ /g,"-");s.videoUploader=l(t);s.videoUploaderUrl=globalVars.community_subdomain+"/"+s.videoUploader;$("#vplayerobject").attr("data-href",x);$("#vplayerobject").css("border","border: 1px #1d1d1d solid");vpDOM=document.getElementById("vplayerobject");try{vpDOM.playVideoPreview(s)}catch(u){}return true}function a(s){try{var q={};var u={};var r={};u.play="true";u.loop="true";u.menu="true";u.quality="high";u.scale="noscale";u.salign="tl";u.wmode="transparent";u.bgcolor="transparent";u.swliveconnect="true";u.allowfullscreen="false";u.allowscriptaccess="always";u.allownetworking="always";r.id="vplayerobject";r.name="vplayerobject";r.wmode="transparent";r.id="vplayerobject";swfobject.embedSWF(globalVars.vp_dir,"vplayer","160","120","9.0.0",false,q,u,r,status);return true}catch(t){$.log("Flash error:"+t);return false}}function m(q){clearTimeout(timer);vpDOM=document.getElementById("vplayerobject");try{vpDOM.stopVideoPreview()}catch(r){$.log(r)}$("#vplayerobject").removeClass("vpObjectActive").css({border:"none",left:"-500px"});$(rotatedElement).parents(".thumb").find(".data, .vpoverdata").show();return true}function e(q,t){if($(q).parents(".thumb").find(".data, .vpoverdata").css("display")!="none"){$(q).parents(".thumb").find(".data , .vpoverdata").hide()}if(typeof(t)=="undefined"){t=1}var r=$(q);if(r.attr("src").match(new RegExp(/(10|[0-9])\.[0-9]{3}\.[0-9]{3}/))){r.attr("src",r.attr("src").replace(new RegExp(/(10|[0-9])\.([0-9]{3})\.([0-9]{3})/),t+".$2.$3"));t=(t>=10)?1:t+1}else{var s=r.attr("src").match(/(^.*\/)([0-9]+)\.[0-9]+(\..*)/);r.attr("src",s[1]+s[2]+"."+t+s[3]);t=(t>15)?1:t+1}thumbRotationTimer=setTimeout(function(){e(q,t)},400);return true}function h(q){if($(q).parents(".thumb").find(".data, .vpoverdata").css("display")=="none"){$(q).parents(".thumb").find(".data , .vpoverdata").show()}var r=$(q);if(r.attr("src").match(new RegExp(/(10|[0-9])\.[0-9]{3}\.[0-9]{3}/))){r.attr("src",r.attr("src").replace(new RegExp(/(10|[0-9])\.([0-9]{3})\.([0-9]{3})/),"1.$2.$3"))}else{var s=r.attr("src").match(/(^.*\/)([0-9]+)\.[0-9]+(\..*)/);r.attr("src",s[1]+s[2]+".1"+s[3])}clearInterval(thumbRotationTimer);return true}if(!$.support.placeholder()){$("input[placeholder],textarea[placeholder]").each(function(s,u){var r=$(this);var q=r.val();var t=r.attr("placeholder");if(!q){r.val(t)}r.bind("focus",function(){if(r.val()==t){r.val("")}});r.bind("blur",function(){if(r.val()==""){r.val(t)}})})}});var browserVer=parseInt($.browser.version);var browser=$.browser;var browserIsOldIE;if($.browser.msie&&browserVer<8){$.cookie("wrapWidth",null,{domain:".hardsextube.com"});$.cookie("pecentagleWidth",null,{domain:".hardsextube.com"});browserIsOldIE=1}else{browserIsOldIE=0}$(document).on("click","#btn-loginSubmit",function(a){var b=$("#join").data("trackSource");if(typeof b!=="undefined"&&b!=""){gaTrack("LoginReg",appendLoginRegABVariation("pressLoginBtn"),b)}});$(document).on("submit","#loginForm",function(a){return login()});function login(){var c=false;var b=/^[0-9a-zA-Z_-]+$/;var a=getWhereIAm();$("#loginFormErrorMessages").hide(0);$("#loginUsername,#loginPassword").removeClass("error");if($("#loginUsername").val()==""||$("#loginPassword").val()==""){$("#loginUsername,#loginPassword").filter("[value='']").addClass("error");$("#loginBox").effect("shake",{times:3},1);return false}else{if(!b.test($("#loginUsername").val())){$("#loginFormErrorMessages").show(0);$.post(a+"/login.php?wrongname=1",{data:JSON.stringify({username:$("#loginUsername").val(),password:$("#loginPassword").val()})},function(d){if(d.info=="ok"){$("#loginModalContent").hide(0);$("#newUsernameForm").show(0)}else{$("#loginFormErrorMessages").show(0).text(_("Invalid username or password."));$("#loginBox").effect("shake",{times:3},1)}},"json");return false}else{$("#loginFormErrorMessages").show(0).text(_("Checking..."));$.ajax({type:"POST",url:a+"/login.php",data:$("#loginForm").find("input").serialize(),async:false,success:function(e){if(e.loginok=="nouser"){$("#loginFormErrorMessages").show(0).text(_("Invalid username or password."));$("#loginBox").effect("shake",{times:3},10)}if(e.loginok=="nopass"){$("#loginFormErrorMessages").show(0).text(_("Invalid username or password."));$("#loginBox").effect("shake",{times:3},10)}if(e.loginok=="deleteduser"){$("#loginFormErrorMessages").show(0).text(_("Your account has been closed!"));$("#loginBox").effect("shake",{times:3},10)}if(e.loginok=="1"){$.cookie("hstauth",e.hstauth,{expires:100,path:"/",domain:".hardsextube.com"});$.cookie("hstuser",e.username,{expires:100,path:"/",domain:".hardsextube.com"});$("#loginForm").find("input").val("");if(location.hash==="#login"||location.hash==="#register"){location.hash=""}if($("#loginForm").find("input[name=commentValueTmp]").val()!=""){location.hash="commentsBlock"}var d=$("#join").data("track-source");gaTrack("LoginReg",appendLoginRegABVariation("successLogin"),d);c=true}},dataType:"JSON"})}}return c}$(document).on("keypress","#forgotForm input",function(b){var a=-1;if(b.keyCode){a=b.keyCode}else{if(b.which){a=b.which}}if(a==13){forgotPassword()}});$(document).on("click","#btn-forgotSubmit",function(a){a.preventDefault();forgotPassword()});function forgotPassword(){var f=/^[0-9a-zA-Z_-]+$/;var e=$.trim($("#forgotUsername").val());var a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;var c=$.trim($("#forgotEmail").val());var d=$("#forgotFormErrorMessages");d.hide(0);$("#forgotUsername,#forgotEmail").removeClass("error");if(c!=""&&c.search(a)!=-1&&e!=""&&f.test(e)){var b=getWhereIAm();$.post(b+"/login.php",$("#forgotForm").find("input").serialize(),function(g){d.show(0);d.find("> .message").hide();if(g.forgot=="ok"){d.find("> .sent").show();$("#forgotForm").find("input").val("")}if(g.forgot=="mailerror"){d.find("> .emailError").show();$("#loginBox").effect("shake",{times:3},10)}if(g.forgot=="notexist"||g.forgot=="unknown"){d.find("> .noEmail").show();$("#loginBox").effect("shake",{times:3},10)}},"json")}else{$("#forgotUsername,#forgotEmail").filter("[value='']").addClass("error");$("#loginBox").effect("shake",{times:3},1)}}$("#newUsernameField").live("focus",function(){$(this).val("")});$("#newUsernameField").live("keyup",function(){var b=/^[0-9a-zA-Z]+$/;var a=$(this).val().replace(/[^A-Za-z0-9_-]/g,"");$(this).val(a)});$("#newUsernameBtn").live("click",function(){var a=getWhereIAm();$.post(a+"/login.php?wrongname=1&newname=1",{data:JSON.stringify({username:$("#loginform #username").val(),newusername:$("#newUsernameField").val(),password:$("#loginform #password").val()})},function(b){if(b.info=="ok"){$.cookie("hstauth",b.hstauth,{expires:100,path:"/",domain:".hardsextube.com"});$.cookie("hstuser",$("#newUsernameField").val(),{expires:100,path:"/",domain:".hardsextube.com"});location.reload()}else{if(b.info=="error"){alert(_("Username is already taken! Please choose another."))}}},"json")});$(document).on("submit","#searchform",function(a){var c=$(this),b=c.find("input[name=search]");if($.trim(b.val())==""){b.addClass("error-search");a.preventDefault()}else{b.removeClass("error-search")}});$("#searchid").live("click",function(){$(this).val("")});function selectItem(a){document.location=globalVars.www_subdomain+"/?search="+a.extra[0]+"&src=suggest"}function formatItem(a){return"<a href='"+globalVars.www_subdomain+"/?search="+encodeURI(a[0])+"&src=suggest'><div class='resl'>"+a[0]+"</div><div class='resr'>"+a[1]+"</div></a><div class='clear'></div>"}function formatLongItem(a){return"<img width='1' height='1' src='"+a[3]+"'/><a target='_blank' href='"+(a[2])+"' class='suggestAd clearfix'><div style='float:left;font-size: 0.9em;margin-right: 4px;' class='resr'>"+a[1]+"</div><div class='resl'>"+a[0]+"</div></a><div class='clear'></div>"}jQuery.support.cors=true;$(document).ready(function(){if($("#searchid").size()>0){$("#searchid").autocomplete("/suggest.php",{width:326,minChars:1,matchSubset:1,matchContains:1,cacheLength:0,onItemSelect:selectItem,formatItem:formatItem,selectOnly:1})}});jQuery.fn.clientInfoGenrate=function(){var n=navigator.appVersion;var j=navigator.userAgent;var k=navigator.appName;var m=""+parseFloat(navigator.appVersion);var e=parseInt(navigator.appVersion,10);var o,b,c;var g="Unknown OS";var d=640;var p=480;var l=0;var f=0;function h(){if((b=j.indexOf("MSIE"))!=-1){k="Microsoft Internet Explorer";m=j.substring(b+5)}else{if((b=j.indexOf("Opera"))!=-1){k="Opera";m=j.substring(b+6)}else{if((b=j.indexOf("Chrome"))!=-1){k="Chrome";m=j.substring(b+7)}else{if((b=j.indexOf("Safari"))!=-1){k="Safari";m=j.substring(b+7)}else{if((b=j.indexOf("Firefox"))!=-1){k="Firefox";m=j.substring(b+8)}else{if((o=j.lastIndexOf(" ")+1)<(b=j.lastIndexOf("/"))){k=j.substring(o,b);m=j.substring(b+1);if(k.toLowerCase()==k.toUpperCase()){k=navigator.appName}}}}}}}if((c=m.indexOf(";"))!=-1){m=m.substring(0,c)}if((c=m.indexOf(" "))!=-1){m=m.substring(0,c)}e=parseInt(""+m,10);if(isNaN(e)){m=""+parseFloat(navigator.appVersion);e=parseInt(navigator.appVersion,10)}if(navigator.appVersion.indexOf("Win")!=-1){g="Windows"}if(navigator.appVersion.indexOf("Mac")!=-1){g="MacOS"}if(navigator.appVersion.indexOf("X11")!=-1){g="UNIX"}if(navigator.appVersion.indexOf("Linux")!=-1){g="Linux"}if(parseInt(navigator.appVersion)>3){d=screen.width;p=screen.height}else{if(navigator.appName=="Netscape"&&parseInt(navigator.appVersion)==3&&navigator.javaEnabled()){var r=java.awt.Toolkit.getDefaultToolkit();var q=r.getScreenSize();d=q.width;p=q.height}}if(parseInt(navigator.appVersion)>3){if(navigator.appName=="Netscape"){l=window.innerWidth;f=window.innerHeight}if(navigator.appName.indexOf("Microsoft")!=-1){l=document.body.offsetWidth;f=document.body.offsetHeight}}}h();var a;a='<input type="hidden" name="browser" value="'+k+'"/><input type="hidden" name="fullversion" value="'+m+'"/><input type="hidden" name="navigator" value="'+navigator.appName+'"/><input type="hidden" name="navigatorUser" value="'+navigator.userAgen+'"/><input type="hidden" name="OSName" value="'+g+'"/><input type="hidden" name="screenW" value="'+d+'"/><input type="hidden" name="screenH" value="'+p+'"/><input type="hidden" name="winW" value="'+l+'"/><input type="hidden" name="winH" value="'+f+'"/>';if(FlashDetect.installed){a=a+'<input type="hidden" name="flash" value="'+FlashDetect.major+"."+FlashDetect.minor+'"/>'}else{a=a+'<input type="hidden" name="flash" value="none"/>'}return a};jQuery.fn.popUpMe=function(btn,afterShow,immadietly){var whatW=parseInt($(this).css("width"));var whatH=parseInt($(this).css("height"));var what=$(this);function popUp(what){if($(what).attr("id")){$("body").impressionLog("loginboxShow")}$(".ads").each(function(){if($(this).css("display")=="block"){$(this).css("display","none");$(this).addClass("hided")}});$("#background_popup").fadeIn("fast");$(what).css({position:"fixed",top:mySize.height/2-whatH/2,left:mySize.width/2-whatW/2});eval(afterShow);$(what).fadeIn("fast",function(){})}if(immadietly){popUp(what)}$(btn).live("click",function(){popUp(what);if(globalVars.whereAmI=="video"&&DEVICE=="tablet"&&typeof(isIpad)!="undefined"&&isIpad){$("#flvAnyad video").css("visibility","hidden")}});$(".close_btn").live("click",function(){if(globalVars.whereAmI=="video"&&DEVICE=="tablet"&&typeof(isIpad)!="undefined"&&isIpad){$("#flvAnyad video").css("visibility","visible")}close();$("#loginform").show();$("#forgotform").hide();$("#newUsernameForm").hide()});$("#background_popup").click(function(){if(globalVars.whereAmI=="video"&&DEVICE=="tablet"&&typeof(isIpad)!="undefined"&&isIpad){$("#flvAnyad video").css("visibility","visible")}close()});function close(w){$(".popup").hide("fast");$("#background_popup").fadeOut("fast");$(".ads").each(function(){if($(this).hasClass("hided")){$(this).css("display","block")}});var source=$("#join").data("track-source");if(typeof source==="undefined"||source==""){return true}gaTrack("LoginReg",appendLoginRegABVariation("closeLoginbox"),source);setGaTrackSourceToJoinBtn()}};function windowSize(){var b=0;var a=0;if(typeof(window.innerWidth)=="number"){b=window.innerHeight;a=window.innerWidth}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientHeight;a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientHeight;a=document.body.clientWidth}}}var c=new Array();c.height=b;c.width=a;return c}function contactUs(){var c=$(c).clientInfoGenrate();var b=0;var a=_("Please fill this field...");$("#contact_us").css("height","450px");$("#contact_form").css("display","block");$("#conatact_us_div").html("");$("#contact_form .input").click(function(){if(b!=3){$("#contact_form .input").each(function(){if($(this).attr("rel")=="wrong"){$(this).val("");$(this).attr("rel","ok")}})}});$("#contact_submit").click(function(){$("#contact_form .input").each(function(){if($(this).val()!=""&&$(this).attr("rel")=="ok"){b++}else{$(this).attr("rel","wrong");$(this).val(a);b=0}});if(b>=2){$("#contact_form").append(c);$.post(globalVars.www_subdomain+"/contact.php",$("#contact_form").serialize(),function(d){$("#contact_form").hide();$("#contact_us").animate({height:"120px"},500,function(){if(d=="1"){$("#contact_form .input").each(function(){$(this).val("")});$("#conatact_us_div").html("<span class='msg'><big>:)</big>"+_("Your message has been sent. Thank you.")+"</span>")}else{$("#contact_form").hide();$("#conatact_us_div").html("<span class='msg_error'><big>:(</big>"+_("Shit! Something happened wrong!Try it later!")+"</span>")}})})}})}$.extend({getUrlVars:function(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d},getUrlVar:function(a){return $.getUrlVars()[a]}});(function(a){a.fn.extend({headerTextEffect:function(g){if(browserIsOldIE){return false}var c=a(this);var b=g.length;var e=Math.random()*b;var d=e.toFixed();a(c).hide();a(c).empty();a(c).append(g[d]);a(c).show(500);d++;var f=setInterval(function(){a(c).fadeOut(1000);a(c).empty();a(c).hide();a(c).append(g[d]);a(c).fadeIn(1000);if(d==b||b!=1){d=0}else{d++}},8000)}})})(jQuery);function addJavascript(c,d){var b=document.getElementsByTagName(d)[0];var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",c);b.appendChild(a)}function getWhereIAm(){var a=globalVars.www_subdomain;switch(globalVars.whereAmI){case"community":a=globalVars.community_subdomain;break;case"upload":a=globalVars.upload_subdomain;break;case"main":a="";break;case"video":a=globalVars.www_subdomain;break}return a}var partScroller=function(){var c={part:$(".videoplayer .headLightBg .part"),partScroll:$(".videoplayer .headLightBg .part .partScroll"),partItems:$(".videoplayer .headLightBg .partWrap a"),allSet:0,allStep:0,actualSet:0,actualPosition:0,stepNumber:5};this.init=function(){if(c.partItems.length<1){return}c.allSet=c.partItems.length;c.allStep=Math.ceil(c.allSet/c.stepNumber);c.partScroll.width(c.allSet*$(c.partItems[0]).outerWidth(true)+10);b.setEvents();a.gotoActive()};var b={setEvents:function(){b.leftScroll();b.rightScroll();b.activeNotClickable()},activeNotClickable:function(){c.partItems.filter(".active").click(function(d){d.preventDefault()})},leftScroll:function(){$(".videoplayer .headLightBg .part a.prevSet").click(function(d){a.setPosition("prev");d.preventDefault()})},rightScroll:function(){$(".videoplayer .headLightBg .part a.nextSet").click(function(d){a.setPosition("next");d.preventDefault()})}};var a={vars:{oldNumber:null,nextNumber:null,scrollWidth:130,scrollLeft:0},setPosition:function(d){a.vars.oldNumber=c.actualSet,a.vars.nextNumber=null;switch(true){case typeof d=="number":a.vars.nextNumber=parseInt(d);if(a.vars.nextNumber<0||a.vars.nextNumber>=c.allSet){return}c.actualSet=Math.floor(a.vars.nextNumber/c.stepNumber);a.vars.scrollLeft=-(c.actualSet*130);break;case d.toLowerCase()=="prev":if((c.actualSet-1)<0){return}a.vars.nextNumber=--c.actualSet;a.vars.scrollLeft=-(c.actualSet*130);break;case d.toLowerCase()=="next":if((c.actualSet+1)>=c.allStep){return}a.vars.nextNumber=++c.actualSet;a.vars.scrollLeft=-(c.actualSet*130);break;default:return;break}a.checkScrollLeft();c.partScroll.stop(true,true,true).animate({left:a.vars.scrollLeft},200);a.vars.oldNumber=a.vars.nextNumber=null},checkScrollLeft:function(){if(a.vars.scrollLeft>0){a.vars.scrollLeft=0}if(a.vars.scrollLeft<-c.partScroll.width()){a.vars.scrollLeft=-c.partScroll.width()+a.vars.scrollWidth}},gotoActive:function(){for(var d=0;d<c.partItems.length;d++){if($(c.partItems[d]).hasClass("active")){a.setPosition(d);break}}}};this.init()};$(document).ready(partScroller);var contactUs=function(){var b={overlay:$("#background_popup"),contactUs:$("#contactUs"),closeButton:$(".contactUs-close"),contactForm:$("#contactUs-form"),videoReportCbx:$("#contactUs-videoReport,#playerErrorsInReport input.videoReportCbx")};var a={showContact:function(c,f){positions=a._calculateContactUsPosition();b.contactUs.css("left",positions.left);b.overlay.fadeIn(500,function(){b.contactUs.show(0).animate({top:positions.top},500,"swing",function(){if(typeof f=="function"){f.call()}})});if(Boolean(c)){c.preventDefault()}if($.support.canvas()&&typeof feedbackCapture=="undefined"){var e="html2canvasScript";if($("#"+e).length>0){return}var d=$("<script />").attr({id:e,async:true,src:feedbackStaticUrl});d.appendTo("head");a.showCaptureButton()}},hideContact:function(c,d){b.contactUs.animate({top:-(b.contactUs.height()+50)},500,"swing",function(){b.overlay.fadeOut(500,function(){if(typeof d=="function"){d.call()}})}).hide(0);if(Boolean(c)){c.preventDefault()}},showCaptureButton:function(){$("#createCapture").show(0)},contactUsAlwaysCenter:function(){positions=a._calculateContactUsPosition();b.contactUs.css({top:positions.top,left:positions.left})},sendContactForm:function(){if(!a._validateFormFields()){var d=$(d).clientInfoGenrate();b.contactForm.prepend(d);var c=b.contactForm.find("input,textarea");$.post(DOMAIN+"/contact.php",c.serialize(),function(f,e){if(f){$("#contactUs-sendError").remove();b.contactForm.before($("<span />").attr("id","contactUs-sendOk").html(_("<big>:)</big>Your message has been sent. Thank you.")).show(0));b.contactForm.slideUp(500)}else{$("#contactUs-sendOk").remove();b.contactForm.before($("<span />").attr("id","contactUs-sendError").html(_("<big>:(</big>Shit! Something happened wrong!<br/>Try it later!")).show(0))}})}return false},getPlayerErrors:function(){var c=$("#playerErrorsReportContainer").add(b.contactForm.find("input[name=player_errors]"));if($(this).is(":checked")){var e=PseudoFlvPlayerProg.getFlashErrors(),d="";if(e){e=JSON.stringify(e)}c.val(e)}else{c.val("")}},_validateFormFields:function(){var c=b.contactForm.find("input,textarea"),e=false,d=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;c.filter(function(){return $(this).hasClass("validate")}).each(function(){var f=$(this);if(f.attr("name")=="email"&&!d.test(f.val())){e=true;f.addClass("error")}else{if(f.val()==""){e=true;f.addClass("error")}else{f.removeClass("error")}}});return e},_calculateContactUsPosition:function(){var d=($(window).height()/2)-(b.contactUs.height()/2),c=($(window).width()/2)-(b.contactUs.width()/2);d=(d<=0?0:d);c=(c<=0?0:c);return{top:d,left:c}}};return{init:function(){$("a.contact_us").bind("click",a.showContact);b.closeButton.bind("click",a.hideContact);b.overlay.bind("click",a.hideContact);b.videoReportCbx.bind("change",a.getPlayerErrors);$("#reportsend").bind("click",a.getPlayerErrors);$("#contactSubmit").bind("click",a.sendContactForm);if($("#flvAnyad").size()>0){b.contactForm.find("div.playerReport").css("display","block")}$(window).bind("resize",function(){if(b.contactUs.is(":visible")){a.contactUsAlwaysCenter()}})},show:function(c){a.showContact(null,c)},hide:function(c){a.hideContact(null,c)}}};$(function(){contactUs().init()});(function(a){a.fn.extend({impressionLog:function(c,d){if(d=="log"){a.log("impressionLLog: "+c)}var b=getWhereIAm();a.post(b+"/api.php",{data:JSON.stringify({type:"impressionLog",value:c})},function(e){},"json");return true},imgOnErrorLog:function(c){var b=getWhereIAm();a.post(b+"/api.php",{data:JSON.stringify({type:"imgonerrorlog",value:c})},function(d){},"json");return true},clickStream:function(c,d){if(d=="log"){a.log("clickStream: "+c)}var b=getWhereIAm();a.post(b+"/api.php",{data:JSON.stringify({type:"clickStream",value:c})},function(e){if(d=="log"){a.log("data: "+e)}},"json");return true},playVideoLog:function(c,d){if(d=="log"){a.log("playVideoLog: "+c)}var b=getWhereIAm();a.post(b+"/api.php",{data:JSON.stringify({type:"playVideoLog",value:c})},function(e){if(d=="log"){a.log("data: "+e)}},"json");return true}})})(jQuery);$(document).on("click mousedown mouseup","#genderFilter span.visualCbx",function(a){var b=$(this);var c=b.siblings("input[type=checkbox]");if(a.type==="click"){c.attr("checked",!c.is(":checked")).change()}else{if(a.type==="mousedown"){b.addClass("click")}else{if(a.type==="mouseup"){b.removeClass("click")}}}if(c.is(":checked")){b.addClass("checked")}else{b.removeClass("checked")}});$(document).on("change","#genderFilter input[type=checkbox]",function(e){var g=$(this);var c=g.siblings("span.visualCbx");if(g.is(":checked")){c.addClass("checked").removeClass("click")}var d=[];$("#genderFilter input[type=checkbox]:checked").each(function(){d.push($(this).val())});if(d.length>0){var h="";var f=/filter=/;var b="filter="+d.join("|");if(f.test(h)){h=h.replace(new RegExp(/filter=([a-zA-Z\|]+)/),b)}else{h=h+(h!==""?"&":"")+b}exp=new RegExp("[?&]filter=[^&]+|filter=[^&]+$");var a=location.search;a=a.replace(exp,"");a="?"+a.substring(1);if(a.length>0){if(location.pathname.length>0){location.href=location.origin+location.pathname+a+"&"+h}else{location.href=location.origin+"/"+a+"&"+h}}else{if(location.pathname.length>0){location.href=location.origin+location.pathname+"?"+h}else{location.href=location.origin+"/&"+h}}}else{exp=new RegExp("[?&]filter=[^&]+|filter=[^&]+$");var a=location.search;a=a.replace(exp,"");if(a.length>0){if(location.pathname.length>0){location.href=location.origin+location.pathname+a+"&filter=no"}else{location.href=location.origin+"/"+a+"&filter=no"}}else{if(location.pathname.length>0){location.href=location.origin+location.pathname+"?filter=no"}else{location.href=location.origin+"/&filter=no"}}}});$(document).on("click",".download",function(b){var a=$(this);b.preventDefault();if(!a.hasClass("needlogin")){setTimeout(function(){location.href=a.attr("href")},1000)}});$(document).ready(function(){var e=window.navigator.userLanguage||window.navigator.language;e=e.substring(0,2);var f=["it","pl","ja","fr","es","ru"];if(jQuery.inArray(e,f)!==-1){if($.cookie("lSuggest")==undefined){$.cookie("lSuggest",1,{expires:1},{path:"/"})}var d=["Italian","Polish","Japanese","French","Spanish","Russian"];var b="";for(var c=0;c<f.length;c++){if(f[c]==e){b=d[c]}}if($.cookie("lSuggest")!=0){var a="<strong>"+b+"</strong> language is available in our site! <strong>Try it!</strong>";$("#header").append('<div class="languageSuggestion" style="display :none"><div class="languageArrow"></div>'+a+"</div>");$(".languageSuggestion").fadeIn("slow")}}$("#languageSelector").bind("mouseover",function(g){$(".languageSuggestion").fadeOut("fast");$.cookie("lSuggest",0)})});$(document).on("click","#likeBtn",function(a){if($(this).data("where")=="pornstar"){setGaTrackSourceToJoinBtn("like_pornstar_btn");pushGaLoginRegTrack("like_pornstar_btn")}else{setGaTrackSourceToJoinBtn("like_video_btn");pushGaLoginRegTrack("like_video_btn")}});$(document).on("click","#dislikeBtn",function(a){if($(this).data("where")=="pornstar"){setGaTrackSourceToJoinBtn("dislike_pornstar_btn");pushGaLoginRegTrack("dislike_pornstar_btn")}else{setGaTrackSourceToJoinBtn("dislike_video_btn");pushGaLoginRegTrack("dislike_video_btn")}});